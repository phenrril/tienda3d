/* Reset base y layout */
*{box-sizing:border-box}html,body{margin:0;padding:0}
:root{--bg:#0d1117;--text:#e5e7eb;--muted:#94a3b8;--brand:#ffffff;--accent:#6366f1;--accent-2:#10b981;--border:#243044;--panel:#1b2430;--panel-alt:#222f3b;--danger:#ef4444}
body{font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;color:var(--text);background:var(--bg)}
.container{max-width:1050px;margin:0 auto;padding:0 16px}
.row{display:flex;gap:16px}.between{justify-content:space-between}.center{align-items:center}

.site{display:flex;flex-direction:column;min-height:100vh}
.content{flex:1 1 auto}

/* Topbar */
.topbar{background:#111827;color:#fff}
.brand{display:flex;flex-direction:row;align-items:center;gap:10px;color:#fff;text-decoration:none}
.brand-logo{background:#f1f5f9;padding:4px;border-radius:50%;box-shadow:0 0 0 2px rgba(255,255,255,.06),0 2px 4px -2px rgba(0,0,0,.55);display:block;width:40px;height:40px;object-fit:contain}
.brand-text{display:flex;flex-direction:column;gap:2px;line-height:1}
.brand-title{font-weight:700;font-size:18px}
.brand-sub{font-size:12px;opacity:.8}
.mainnav{display:flex;gap:14px;align-items:center}
.mainnav a{color:#fff;text-decoration:none;font-size:14px;opacity:.9}
.mainnav a:hover{opacity:1;text-decoration:underline}
.mainnav .whatsapp{background:#25D366;color:#111827;border-radius:8px;padding:8px 10px;font-weight:600}

/* Hero */
.hero{display:grid;grid-template-columns:1.2fr .8fr;gap:24px;align-items:center;margin:28px 0}
.hero-copy h1{font-size:32px;margin:0 0 8px}
.hero-copy p{color:var(--muted);margin:0 0 12px}
.hero-actions{display:flex;gap:10px;margin:12px 0 8px}
.btn-primary,.btn-secondary{display:inline-block;padding:10px 14px;border-radius:10px;text-decoration:none;border:1px solid var(--border);font-weight:600;transition:background .18s,filter .18s}
.btn-primary{background:var(--accent);color:#fff;border-color:var(--accent)}
.btn-primary:hover{filter:brightness(.92)}
.btn-secondary{background:var(--panel);color:var(--text);border-color:var(--border)}
.btn-secondary:hover{background:var(--panel-alt)}
.btn-secondary.small{padding:6px 10px;font-size:13px}
.hero-hours{font-size:14px;color:var(--muted);margin-top:6px}
.hero-media .img-placeholder{background:#1e293b;border:1px dashed #334155;height:190px;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#64748b}

/* Texto destacado bajo el título principal */
.hero-lead{font-size:18px;font-weight:400;line-height:1.5;color:var(--muted);max-width:560px;margin:0 0 14px;font-optical-sizing:auto}
@media (max-width:720px){.hero-lead{font-size:16px}}
@media (max-width:420px){.hero-lead{font-size:15px;line-height:1.45}}

/* Filters */
.filters{margin:10px 0 18px}
.filters-row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.field input,.field select{background:#12202c;color:var(--text);border:1px solid var(--border);padding:9px 10px;border-radius:10px;min-width:200px}
.field input:focus,.field select:focus{outline:2px solid var(--accent);outline-offset:1px}
.field.grow{flex:1}
.toggle-group{display:flex;gap:8px}
.toggle{display:flex;align-items:center;border:1px solid var(--border);border-radius:999px;padding:4px 8px;cursor:pointer;user-select:none;background:#12202c;color:var(--muted);transition:background .18s,color .18s}
.toggle input{display:none}.toggle span{font-size:13px}
.toggle.active{background:var(--accent);color:#fff;border-color:var(--accent)}
.link-reset{margin-left:8px;color:var(--muted);text-decoration:none}
.link{color:var(--accent);text-decoration:none}
.link:hover{text-decoration:underline}

/* Cards */
.cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
.card{border:1px solid var(--border);border-radius:14px;overflow:hidden;background:var(--panel);display:flex;flex-direction:column;box-shadow:0 2px 4px -2px rgba(0,0,0,.4)}
.card-media{position:relative;background:#0f1822;min-height:150px;display:flex;align-items:center;justify-content:center}
.card-media img{width:100%;height:180px;object-fit:cover;display:block}
.placeholder{color:#64748b}
.badges{position:absolute;top:8px;left:8px;display:flex;gap:6px}
.badge{font-size:11px;padding:4px 8px;border-radius:999px;background:#1e293b;color:#cbd5e1;border:1px solid #334155}
.badge.green{background:#064e3b;color:#34d399;border:1px solid #065f46}
.badge.gray{background:#1e293b;color:#94a3b8;border:1px solid #334155}
.card-body{padding:12px}
.card-title{margin:0 0 4px;font-size:16px}
.card-title a{color:var(--text);text-decoration:none}
.card-title a:hover{text-decoration:underline}
.card-meta{font-size:12px;color:var(--muted);margin-bottom:6px}
.price-row{display:flex;align-items:center;gap:6px;margin:6px 0 10px}
.price{font-weight:800}
.actions{display:flex;gap:8px;margin-top:auto}

/* Product view */
.product-view{display:grid;grid-template-columns:.9fr 1.1fr;gap:24px}
.pv-img{background:#0f1822;border:1px solid var(--border);border-radius:14px;height:340px;display:flex;align-items:center;justify-content:center;color:#64748b}
.pv-title{margin:0 0 6px}
.pv-price{font-size:22px;font-weight:800;margin-bottom:8px}
.pv-desc{color:var(--muted);margin-bottom:12px}
.pv-form{display:grid;gap:10px;max-width:320px}
.pv-form select{border:1px solid var(--border);border-radius:10px;padding:8px;background:#12202c;color:var(--text)}

/* Pagination */
.pagination{display:flex;gap:10px;align-items:center;justify-content:center;margin:18px 0}
.page-btn{border:1px solid var(--border);padding:8px 10px;border-radius:10px;text-decoration:none;color:var(--text);background:#12202c}
.page-btn:hover{background:var(--panel-alt)}

/* Footer */
.footer{margin-top:24px;background:#111827;border-top:1px solid #1f2937;padding:18px 0}
.grid-3{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
.f-title{font-weight:700;margin-bottom:6px}
.f-list{margin:0;padding-left:16px;color:var(--muted)}
.copyright{text-align:center;margin-top:12px;font-size:12px;color:var(--muted)}

/* Carousel */
.hero-carousel{position:relative;overflow:hidden;border-radius:14px;border:1px solid var(--border);background:#0b121a;height:300px} /* altura añadida para desktop (antes colapsaba) */
.hero-carousel .hc-slide{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transform:scale(1.03);transition:opacity .5s ease,transform .8s ease}
.hero-carousel .hc-slide.active{opacity:1;transform:scale(1)}
.hc-dots{position:absolute;left:50%;bottom:10px;transform:translateX(-50%);display:flex;gap:8px}
.hc-dots .dot{width:9px;height:9px;border-radius:999px;border:1px solid rgba(255,255,255,.5);background:rgba(255,255,255,.25);cursor:pointer}
.hc-dots .dot.active{background:#fff}
@media (max-width:900px){.hero{grid-template-columns:1fr;gap:16px}.mega{font-size:32px}.hero-carousel{height:220px}}

/* Detalle de producto (ajustado a 40vw) */
/* Eliminamos anchos fijos (520px / 460px) y usamos 40vw para el contenedor de la imagen */
.product-detail{display:grid;grid-template-columns:minmax(300px,40vw) 1fr;gap:40px;margin-top:20px;align-items:start}
@media (max-width:900px){.product-detail{grid-template-columns:1fr}}
.pd-media{background:#0f1822;border:1px solid var(--border);border-radius:18px;padding:12px;display:flex;align-items:center;justify-content:center;width:100%;min-height:auto;align-self:start}
/* Carrusel detalle */
.pd-carousel{position:relative;display:flex;flex-direction:column;gap:10px;width:100%}
/* Altura consistente: entre 260px y 520px, objetivo 40vw */
.pd-slides{position:relative;width:100%;height:clamp(220px,40vw,520px);max-height:70vh}
.pd-slide{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;background:#0b121a;border-radius:14px;opacity:0;transition:opacity .45s ease;padding:4px}
.pd-slide.active{opacity:1}
.pd-nav{position:absolute;top:50%;transform:translateY(-50%);background:rgba(15,24,34,.55);border:1px solid var(--border);color:#fff;width:38px;height:38px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:22px;cursor:pointer;backdrop-filter:blur(3px);transition:background .2s}
.pd-nav:hover{background:rgba(99,102,241,.8)}
.pd-nav.prev{left:10px}
.pd-nav.next{right:10px}
.pd-thumbs{display:flex;gap:8px;overflow-x:auto;padding:4px 2px}
.pd-thumb{border:2px solid transparent;padding:0;border-radius:10px;cursor:pointer;background:none;flex:0 0 auto}
.pd-thumb img{width:64px;height:64px;object-fit:cover;border-radius:8px;display:block}
.pd-thumb.active{border-color:var(--accent)}
@media (max-width:600px){.pd-thumb img{width:54px;height:54px}.product-detail{gap:24px}}
/* Ajuste opcional: limitar tamaño máximo enorme en pantallas muy grandes */
@media (min-width:1600px){.product-detail{grid-template-columns:640px 1fr}}

/* Mejora responsive adicional para pantallas muy pequeñas y orientación vertical */
@media (max-width:520px){
  .product-detail{gap:28px}
  .pd-slides{height:auto;aspect-ratio:1/1;max-height:80vh}
  .pd-slide{position:absolute}
  .pd-thumb img{width:52px;height:52px}
}
@media (orientation:landscape) and (max-height:500px){
  .pd-slides{height:clamp(180px,55vh,420px)}
}

/* Color picker (detalle producto) */
.color-picker{display:flex;flex-direction:column;gap:8px;margin:18px 0 10px}
.cp-label{font-size:13px;font-weight:600;letter-spacing:.5px;color:var(--muted)}
.cp-swatches{display:flex;flex-wrap:wrap;gap:8px}
.swatch{width:34px;height:34px;border-radius:10px;border:2px solid transparent;background:var(--c,#334155);cursor:pointer;position:relative;transition:transform .15s,border-color .15s,box-shadow .15s}
.swatch:hover{transform:scale(1.07)}
.swatch:focus{outline:2px solid var(--accent);outline-offset:2px}
.swatch.active{border-color:var(--accent);box-shadow:0 0 0 2px rgba(99,102,241,.35)}
.swatch-other{background:linear-gradient(135deg,#1e293b,#0f1822);border:2px dashed #475569 !important;display:flex;align-items:center;justify-content:center;font-weight:700;color:#94a3b8}
.swatch-other::after{content:"+";font-size:18px;line-height:1}
@media (max-width:520px){.swatch{width:30px;height:30px;border-radius:8px}.swatch-other::after{font-size:16px}}
/* ...existing code... */

/* Carrito */
.cart-table{width:100%;border-collapse:collapse;margin:8px 0 20px;font-size:14px;background:var(--panel);border:1px solid var(--border);border-radius:12px;overflow:hidden}
.cart-table thead th{background:#12202c;padding:10px 12px;font-size:11px;letter-spacing:.6px;text-transform:uppercase;font-weight:600;color:var(--muted)}
.cart-table td{padding:10px 12px;vertical-align:middle}
.cart-prod{display:flex;align-items:center;gap:12px;min-width:180px}
.cart-prod img.thumb{width:72px;height:72px;object-fit:cover;display:block;border-radius:12px;border:1px solid var(--border);background:#0f1822}
@media (max-width:600px){.cart-prod img.thumb{width:56px;height:56px;border-radius:10px}}
.color-dot{width:22px;height:22px;border-radius:50%;border:2px solid var(--border);box-shadow:0 0 0 1px rgba(0,0,0,.4)}
.qty-form{display:inline-flex;align-items:center;gap:6px;background:#12202c;padding:4px 8px;border-radius:999px}
.qbtn{background:var(--panel-alt);border:1px solid var(--border);color:var(--text);width:26px;height:26px;border-radius:50%;cursor:pointer;font-weight:600;display:flex;align-items:center;justify-content:center;padding:0}
.qbtn:hover{background:var(--accent);border-color:var(--accent);color:#fff}
.qval{min-width:22px;text-align:center;font-weight:600}
.cart-summary{display:flex;flex-direction:column;gap:14px;margin:10px 0 30px;max-width:420px}
.cart-summary .total{font-size:15px;color:var(--muted)}
.checkout-form{display:flex;flex-direction:column;gap:18px;background:linear-gradient(140deg,#17212c,#141b24 55%);border:1px solid var(--border);padding:20px 22px 24px;border-radius:22px;position:relative;box-shadow:0 4px 18px -6px rgba(0,0,0,.55),0 0 0 1px rgba(255,255,255,.02)}
.form-group{display:flex;flex-direction:column;gap:6px}
.form-label{font-size:13px;font-weight:600;letter-spacing:.6px;color:var(--muted);text-transform:none}
.form-input{background:#0f1924;border:1px solid #223140;color:var(--text);padding:11px 13px;border-radius:14px;font-size:14px;transition:border-color .18s,background .18s,box-shadow .18s}
.form-input:focus{outline:none;border-color:var(--accent);background:#142334;box-shadow:0 0 0 2px rgba(99,102,241,.35)}
.form-input::placeholder{color:#5d7389}
.mono{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:13px}
.shipping-box{border:1px solid #223140;border-radius:20px;padding:16px 18px 18px;margin-top:2px;display:flex;flex-direction:column;gap:16px;background:linear-gradient(155deg,#1d2834,#16202b 60%);position:relative;box-shadow:inset 0 0 0 1px rgba(255,255,255,.03)}
.shipping-box legend{font-size:11px;letter-spacing:.7px;text-transform:uppercase;color:var(--muted);padding:0 8px;font-weight:600}
.shipping-options{display:flex;flex-direction:column;gap:10px}
.radio-option{display:flex;align-items:flex-start;gap:8px;font-size:14px;cursor:pointer;line-height:1.25;color:var(--text);background:#12202c;padding:10px 12px;border-radius:14px;border:1px solid #1f2c39;transition:background .18s,border-color .18s}
.radio-option:hover{background:#172a3a}
.radio-option input{accent-color:var(--accent);margin-top:2px}
.radio-option span small{font-size:11px;color:var(--muted);font-weight:500;margin-left:4px}
.province-group{display:none;flex-direction:column;gap:10px;animation:fadeSlide .28s ease}
.cost-row,.grand-row{display:flex;justify-content:space-between;align-items:center}
.cost-row{font-size:13px;color:var(--muted)}
.grand-row{font-size:15px;font-weight:600;margin-top:4px}
.grand-val{font-weight:700;color:#fff}
.pay-btn{margin-top:4px;font-size:15px;padding:14px 18px;border-radius:16px;box-shadow:0 6px 24px -6px rgba(99,102,241,.55);font-weight:600}
.pay-btn:hover{filter:brightness(.93);box-shadow:0 8px 28px -6px rgba(99,102,241,.65)}
.pay-btn:active{transform:translateY(1px)}
@media (max-width:640px){
  .checkout-form{padding:18px 16px 22px;border-radius:18px}
  .pay-btn{font-size:14px;padding:12px 16px}
  .radio-option{padding:9px 10px}
}
@keyframes fadeSlide{from{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}
/* === End Checkout Form Improved === */

/* === Responsive Enhancements (mobile nav & tables) === */
.nav-toggle{background:#12202c;color:#fff;border:1px solid var(--border);padding:8px 12px;border-radius:10px;font-size:18px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:background .18s}
.nav-toggle:hover{background:var(--panel-alt)}
.nav-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .25s;z-index:90}
.mainnav{z-index:99}
@media (max-width:820px){
  .mainnav{position:fixed;top:0;right:0;height:100vh;width:240px;flex-direction:column;align-items:flex-start;padding:70px 20px 24px;gap:18px;background:#111827;border-left:1px solid #1f2937;transform:translateX(100%);transition:transform .28s cubic-bezier(.4,.0,.2,1)}
  body.nav-open .mainnav{transform:translateX(0)}
  body.nav-open .nav-backdrop{opacity:1;pointer-events:auto}
  .mainnav a{font-size:15px}
}
@media (min-width:821px){
  .nav-toggle{display:none}
  .nav-backdrop{display:none}
}

/* Table responsiveness */
.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}
.table-responsive .cart-table{min-width:720px}
@media (max-width:640px){
  .cart-header h1{font-size:20px}
  .hero-copy h1{font-size:26px}
  .brand-title{font-size:16px}
  .brand-sub{font-size:11px}
}
/* Minor spacing adjustments on very narrow screens */
@media (max-width:480px){
  .mainnav{width:78%}
  .btn-primary,.btn-secondary{padding:9px 12px}
  .cards{gap:10px}
}
/* === End Responsive Enhancements === */

/* === Extra Responsive Pass (Option B) === */
@media (max-width:720px){
  .hero{margin:22px 0;gap:18px}
  .hero-copy h1{font-size:28px;line-height:1.15}
  .hero-copy p{font-size:15px}
}
@media (max-width:560px){
  .hero{margin:18px 0;gap:14px}
  .hero-copy h1{font-size:24px}
  .hero-actions{flex-wrap:wrap}
  .btn-primary,.btn-secondary{padding:9px 12px;font-size:14px}
}
@media (max-width:400px){
  .hero-copy h1{font-size:21px}
  .hero-copy p{font-size:14px}
  .brand-sub{display:none}
  .cards{grid-template-columns:1fr;gap:12px}
  .card-media img{height:160px}
}
@media (max-width:340px){
  .cards{gap:10px}
  .card-body{padding:10px}
  .card-title{font-size:15px}
  .price-row{margin:4px 0 8px}
  .btn-primary,.btn-secondary{font-size:13px;padding:8px 11px}
}
/* Support prefers-reduced-motion */
@media (prefers-reduced-motion: reduce){
  *,*::before,*::after{animation-duration:.001ms!important;animation-iteration-count:1!important;transition:none!important;scroll-behavior:auto!important}
  .hero-carousel .hc-slide,.pd-slide{transition:none!important;transform:none!important}
  .pd-nav,.nav-toggle{transition:none!important}
}
/* Slight improvement for very tall product detail on narrow devices */
@media (max-width:480px){
  .pv-img{height:300px}
}
/* === End Extra Responsive Pass === */
body.nav-open{overflow:hidden}

/* Botón flotante WhatsApp (mejorado: tamaño responsive + animación) */
.wa-float{
  position:fixed;
  right:calc(clamp(12px,3vw,20px) + env(safe-area-inset-right,0px));
  bottom:calc(clamp(12px,3vw,20px) + env(safe-area-inset-bottom,0px));
  width:clamp(56px,10vw,72px);
  height:clamp(56px,10vw,72px);
  border-radius:50%;
  background:#ffffff;
  color:#25D366; /* hace que el SVG use este color si usa currentColor */
  border:2px solid #25D366;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 10px 28px rgba(0,0,0,.38),0 0 0 1px rgba(0,0,0,.12);
  z-index:120;
  transition:transform .15s ease,filter .15s ease;
  animation:wa-pop .6s cubic-bezier(.2,.8,.2,1) .15s both;
}
.wa-float svg{width:62%;height:62%;display:block}
.wa-float:hover{filter:brightness(.96);transform:translateY(-1px) scale(1.02)}
.wa-float:active{transform:translateY(0) scale(.99)}
.wa-float:focus{outline:3px solid rgba(255,255,255,.6);outline-offset:2px}
/* halo/pulse sutil que corre un par de veces para llamar la atención */
.wa-float::after{
  content:"";position:absolute;inset:0;border-radius:50%;
  background:rgba(37,211,102,.32);
  animation:wa-pulse 1.2s ease-out .5s 2;
  pointer-events:none
}
@keyframes wa-pop{0%{opacity:0;transform:translateY(10px) scale(.6)}60%{opacity:1;transform:translateY(0) scale(1.06)}100%{opacity:1;transform:translateY(0) scale(1)}}
@keyframes wa-pulse{0%{transform:scale(1);opacity:.5}100%{transform:scale(1.75);opacity:0}}
/* Respeta usuarios con reduced motion */
@media (prefers-reduced-motion: reduce){
  .wa-float{animation:none}
  .wa-float::after{animation:none}
}

/* Home-specific compact grid for mobile: show more products per row */
@media (max-width:900px){
  .cards--home{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}
}
@media (max-width:640px){
  .cards--home{grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}
  .cards--home .card-media img{height:150px}
  .cards--home .card-body{padding:10px}
  .cards--home .card-title{font-size:15px}
  .cards--home .btn-secondary.small{padding:5px 9px;font-size:12px}
}
@media (max-width:420px){
  .cards--home{grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
  .cards--home .card-media img{height:130px}
  .cards--home .card-title{font-size:14px}
}
