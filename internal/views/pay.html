{{define "pay.html"}}
{{template "layout_start" .}}
<section style="max-width:760px;margin:30px auto 0;display:flex;flex-direction:column;gap:18px">
  <h1 style="margin:0;font-size:28px">Estado del pago</h1>
  {{if .StatusMsg}}<div style="padding:12px 14px;border-radius:12px;background:{{if .Success}}#064e3b{{else}}#3f1d1d{{end}};border:1px solid {{if .Success}}#10b981{{else}}#ef4444{{end}};color:#fff;font-weight:600">{{.StatusMsg}}</div>{{end}}
  <div style="background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:18px;display:flex;flex-direction:column;gap:10px">
    <div><strong>Orden:</strong> {{.Order.ID}}</div>
    <div><strong>Nombre:</strong> {{.Order.Name}}</div>
    <div><strong>Email:</strong> {{.Order.Email}}</div>
    <div><strong>Teléfono:</strong> {{.Order.Phone}}</div>
    <div><strong>DNI:</strong> {{.Order.DNI}}</div>
    <div><strong>Método:</strong> {{if eq .Order.ShippingMethod "envio"}}Envío{{else if eq .Order.ShippingMethod "cadete"}}Cadete (Rosario){{else}}Retiro{{end}}</div>
    {{if or (eq .Order.ShippingMethod "envio") (eq .Order.ShippingMethod "cadete") }}
      <div><strong>Dirección:</strong> {{.Order.Address}} {{if .Order.PostalCode}}({{.Order.PostalCode}} – {{.Order.Province}}){{end}}</div>
      <div><strong>Costo envío:</strong> ${{printf "%.2f" .Order.ShippingCost}}</div>
    {{end}}
    <div><strong>Total:</strong> ${{printf "%.2f" .Order.Total}}</div>
    <div style="margin-top:6px"><strong>Items:</strong></div>
    <ul style="margin:0;padding-left:18px;display:flex;flex-direction:column;gap:4px">
      {{range .Order.Items}}
        <li>{{.Title}} x{{.Qty}} — ${{printf "%.2f" .UnitPrice}} {{if .Color}}<span style="display:inline-block;width:14px;height:14px;border-radius:4px;border:1px solid #000;vertical-align:middle;background:{{.Color}}"></span>{{end}}</li>
      {{end}}
    </ul>
  </div>
  <a href="/products" class="btn-secondary" style="text-decoration:none;display:inline-block;width:max-content">Volver al catálogo</a>
</section>
{{template "layout_end" .}}
{{end}}
